<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Binary Establishment - معرض المنتجات</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1a5276;
            --primary-light: #2e86c1;
            --primary-dark: #154360;
            --secondary: #28b463;
            --accent: #3498db;
            --medical-blue: #2c80b9;
            --medical-green: #27ae60;
            --medical-light: #e8f4fc;
            --gradient: linear-gradient(135deg, #1a5276 0%, #2c80b9 100%);
            --gradient-green: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            --light-bg: #f8fbfe;
            --light-card: #FFFFFF;
            --dark-text: #1b4f72;
            --light-text: #566573;
            --shadow: 0 10px 30px rgba(44, 128, 185, 0.15);
            --shadow-lg: 0 20px 50px rgba(44, 128, 185, 0.25);
            --border: 1px solid #e1f0fa;
            --radius: 15px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            scroll-behavior: smooth;
        }
        
        body {
            background: var(--light-bg);
            color: var(--dark-text);
            line-height: 1.8;
            overflow-x: hidden;
            font-family: 'Tajawal', sans-serif;
        }
        
        body.dir-ltr {
            font-family: 'Inter', sans-serif;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header */
        .main-header {
            background: var(--gradient);
            color: white;
            padding: 25px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .logo-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .logo-circle {
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            overflow: hidden;
            padding: 5px;
        }
        
        .logo-img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .logo-text {
            font-size: 1.8rem;
            font-weight: 900;
            color: white;
        }
        
        .header-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        /* Language Toggle */
        .language-toggle {
            display: flex;
            gap: 10px;
            background: rgba(255,255,255,0.15);
            padding: 8px;
            border-radius: 25px;
        }
        
        .lang-btn {
            padding: 8px 20px;
            border: none;
            border-radius: 20px;
            background: transparent;
            color: white;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .lang-btn.active {
            background: white;
            color: var(--medical-blue);
        }
        
        /* Main Content */
        .main-content {
            padding: 40px 0 80px;
        }
        
        .page-title {
            font-size: 2.8rem;
            font-weight: 900;
            margin-bottom: 20px;
            color: var(--dark-text);
            text-align: center;
            position: relative;
            padding-bottom: 20px;
        }
        
        .page-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 50%;
            transform: translateX(50%);
            width: 100px;
            height: 4px;
            background: var(--medical-blue);
            border-radius: 2px;
        }
        
        .page-subtitle {
            text-align: center;
            color: var(--light-text);
            margin-bottom: 40px;
            font-size: 1.2rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* Filters */
        .filters-section {
            background: white;
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin-bottom: 40px;
            border: var(--border);
        }
        
        .filter-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--dark-text);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .filter-title i {
            color: var(--medical-blue);
        }
        
        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .filter-group {
            margin-bottom: 15px;
        }
        
        .filter-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--dark-text);
        }
        
        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .filter-btn {
            padding: 10px 20px;
            background: var(--light-bg);
            border: 2px solid var(--medical-light);
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            color: var(--dark-text);
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        
        .filter-btn:hover {
            background: var(--medical-light);
            transform: translateY(-2px);
        }
        
        .filter-btn.active {
            background: var(--medical-blue);
            color: white;
            border-color: var(--medical-blue);
        }
        
        .search-box {
            position: relative;
            margin-top: 20px;
        }
        
        .search-input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: 2px solid var(--medical-light);
            border-radius: 25px;
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.3s ease;
            background: var(--light-bg);
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--medical-blue);
            box-shadow: 0 0 0 3px rgba(44, 128, 185, 0.1);
        }
        
        .search-btn {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--medical-blue);
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        /* Products Grid */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }
        
        .product-card {
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.4s ease;
            border: 2px solid transparent;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .product-card:hover {
            transform: translateY(-10px);
            border-color: var(--medical-blue);
            box-shadow: var(--shadow-lg);
        }
        
        .product-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--medical-green);
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 700;
            z-index: 1;
        }
        
        .product-image-container {
            height: 250px;
            position: relative;
            overflow: hidden;
            background: var(--light-bg);
        }
        
        .product-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 20px;
            transition: transform 0.4s ease;
        }
        
        .product-card:hover .product-image {
            transform: scale(1.05);
        }
        
        .product-content {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .product-category {
            color: var(--medical-blue);
            font-size: 0.9rem;
            font-weight: 700;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .product-title {
            font-size: 1.4rem;
            font-weight: 800;
            margin-bottom: 15px;
            color: var(--dark-text);
            line-height: 1.3;
        }
        
        .product-description {
            color: var(--light-text);
            margin-bottom: 20px;
            line-height: 1.6;
            flex-grow: 1;
        }
        
        .product-specs {
            margin-bottom: 20px;
            padding: 15px;
            background: var(--light-bg);
            border-radius: 10px;
        }
        
        .spec-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        
        .spec-item:last-child {
            border-bottom: none;
        }
        
        .spec-label {
            font-weight: 600;
            color: var(--dark-text);
        }
        
        .spec-value {
            color: var(--light-text);
        }
        
        .product-actions {
            display: flex;
            gap: 10px;
            margin-top: auto;
        }
        
        .action-btn {
            flex: 1;
            padding: 12px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .action-btn.view {
            background: var(--medical-blue);
            color: white;
        }
        
        .action-btn.whatsapp {
            background: var(--medical-green);
            color: white;
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .action-btn.view:hover {
            background: #1a5276;
        }
        
        .action-btn.whatsapp:hover {
            background: #229954;
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 80px 20px;
            grid-column: 1 / -1;
        }
        
        .empty-state i {
            font-size: 4rem;
            color: #ddd;
            margin-bottom: 20px;
        }
        
        .empty-state h3 {
            color: var(--light-text);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        
        .empty-state p {
            color: #999;
            max-width: 500px;
            margin: 0 auto 30px;
        }
        
        /* Product Modal */
        .product-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            overflow-y: auto;
            padding: 20px;
        }
        
        .product-modal-content {
            background: white;
            max-width: 1200px;
            margin: 40px auto;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: 0 30px 80px rgba(0,0,0,0.4);
            animation: modalSlide 0.3s ease;
        }
        
        @keyframes modalSlide {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-header {
            background: var(--medical-blue);
            color: white;
            padding: 25px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .modal-title {
            font-size: 1.8rem;
            font-weight: 700;
            flex: 1;
            margin-right: 20px;
        }
        
        .modal-close {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2rem;
        }
        
        .modal-close:hover {
            background: rgba(255,255,255,0.3);
            transform: rotate(90deg);
        }
        
        .modal-body {
            padding: 30px;
        }
        
        .product-detail-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }
        
        @media (max-width: 768px) {
            .product-detail-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .product-gallery {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .main-image {
            height: 400px;
            background: var(--light-bg);
            border-radius: 15px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .main-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .thumbnail-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        
        .thumbnail {
            height: 80px;
            background: var(--light-bg);
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 5px;
        }
        
        .thumbnail:hover {
            border-color: var(--medical-blue);
        }
        
        .thumbnail.active {
            border-color: var(--medical-blue);
        }
        
        .thumbnail img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .product-detail-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .product-detail-specs {
            background: var(--light-bg);
            padding: 25px;
            border-radius: 15px;
        }
        
        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .spec-item-detail {
            padding: 10px 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid var(--medical-blue);
        }
        
        .spec-item-detail strong {
            color: var(--dark-text);
            display: block;
            margin-bottom: 5px;
        }
        
        .product-features {
            margin-top: 20px;
        }
        
        .features-list {
            list-style: none;
            margin-top: 15px;
        }
        
        .features-list li {
            padding: 8px 0;
            padding-right: 25px;
            position: relative;
        }
        
        .features-list li::before {
            content: '✓';
            position: absolute;
            right: 0;
            color: var(--medical-green);
            font-weight: bold;
        }
        
        .modal-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            padding-top: 30px;
            border-top: 1px solid #eee;
        }
        
        .modal-actions .action-btn {
            flex: 1;
        }
        
        /* Categories Section */
        .categories-section {
            margin-bottom: 50px;
        }
        
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .category-card {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            text-align: center;
            box-shadow: var(--shadow);
            border: var(--border);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--medical-blue);
        }
        
        .category-card.active {
            background: var(--medical-blue);
            color: white;
        }
        
        .category-card.active .category-count {
            background: rgba(255,255,255,0.2);
            color: white;
        }
        
        .category-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--medical-blue);
        }
        
        .category-card.active .category-icon {
            color: white;
        }
        
        .category-name {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .category-count {
            display: inline-block;
            padding: 5px 15px;
            background: var(--light-bg);
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--dark-text);
        }
        
        /* Back to Top */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            left: 30px;
            width: 50px;
            height: 50px;
            background: var(--medical-blue);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(44, 128, 185, 0.3);
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .back-to-top.show {
            opacity: 1;
            visibility: visible;
        }
        
        .back-to-top:hover {
            background: var(--primary-dark);
            transform: translateY(-3px);
        }
        
        /* Results Counter */
        .results-counter {
            margin-bottom: 20px;
            padding: 15px 25px;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .results-info {
            font-size: 1.1rem;
            color: var(--dark-text);
        }
        
        .results-info strong {
            color: var(--medical-blue);
        }
        
        .clear-filters {
            padding: 10px 20px;
            background: var(--light-bg);
            border: 2px solid var(--medical-light);
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            color: var(--dark-text);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .clear-filters:hover {
            background: var(--medical-light);
        }
        
        /* Responsive */
        @media (max-width: 992px) {
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
            
            .page-title {
                font-size: 2.2rem;
            }
            
            .header-top {
                flex-direction: column;
                text-align: center;
            }
        }
        
        @media (max-width: 768px) {
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .page-title {
                font-size: 1.8rem;
            }
            
            .filters-grid {
                grid-template-columns: 1fr;
            }
            
            .product-actions {
                flex-direction: column;
            }
            
            .modal-actions {
                flex-direction: column;
            }
        }
        
        @media (max-width: 480px) {
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .product-detail-content {
                padding: 20px;
            }
            
            .thumbnail-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .category-card {
                padding: 20px;
            }
            
            .category-name {
                font-size: 1.1rem;
            }
        }
        
        /* Animation */
        .fade-in {
            animation: fadeIn 0.6s ease forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }
        .delay-3 { animation-delay: 0.3s; }
        .delay-4 { animation-delay: 0.4s; }
    </style>
</head>
<body dir="rtl">
    <!-- Header -->
    <header class="main-header">
        <div class="container">
            <div class="header-top">
                <div class="logo-section">
                    <div class="logo-circle">
                        <img src="https://i.imgur.com/UTsH5W0.png" alt="Medical Binary Logo" class="logo-img" onerror="this.onerror=null; this.src='https://i.imgur.com/UTsH5W0.png';">
                    </div>
                    <div>
                        <div class="logo-text">
                            <span class="lang-content ar active">الثنائية الطبية</span>
                            <span class="lang-content en">Medical Binary</span>
                        </div>
                    </div>
                </div>
                
                <div class="header-actions">
                    <div class="language-toggle">
                        <button class="lang-btn active" data-lang="ar">العربية</button>
                        <button class="lang-btn" data-lang="en">English</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <h1 class="page-title">
                <span class="lang-content ar active">معرض المنتجات الطبية</span>
                <span class="lang-content en">Medical Products Gallery</span>
            </h1>
            
            <p class="page-subtitle">
                <span class="lang-content ar active">تصفح تشكيلتنا الواسعة من المنتجات الطبية المتخصصة من أفضل العلامات التجارية العالمية</span>
                <span class="lang-content en">Browse our wide range of specialized medical products from the best international brands</span>
            </p>
            
            <!-- Categories -->
            <section class="categories-section">
                <div class="categories-grid" id="categoriesGrid">
                    <!-- سيتم تعبئته بالجافاسكريبت -->
                </div>
            </section>
            
            <!-- Filters -->
            <section class="filters-section">
                <h2 class="filter-title">
                    <i class="fas fa-filter"></i>
                    <span class="lang-content ar active">تصفية المنتجات</span>
                    <span class="lang-content en">Filter Products</span>
                </h2>
                
                <div class="filters-grid">
                    <div class="filter-group">
                        <label class="filter-label">
                            <span class="lang-content ar active">العلامة التجارية</span>
                            <span class="lang-content en">Brand</span>
                        </label>
                        <div class="filter-options" id="brandFilter">
                            <!-- سيتم تعبئته بالجافاسكريبت -->
                        </div>
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">
                            <span class="lang-content ar active">النوع</span>
                            <span class="lang-content en">Type</span>
                        </label>
                        <div class="filter-options" id="typeFilter">
                            <!-- سيتم تعبئته بالجافاسكريبت -->
                        </div>
                    </div>
                </div>
                
                <div class="search-box">
                    <input type="text" 
                           class="search-input" 
                           id="searchInput"
                           placeholder="ابحث عن منتج أو وصف أو كود..."
                           dir="rtl">
                    <button class="search-btn" id="searchBtn">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </section>
            
            <!-- Results Counter -->
            <div class="results-counter" id="resultsCounter">
                <div class="results-info">
                    <span class="lang-content ar active">عرض <strong id="resultsCount">0</strong> منتج</span>
                    <span class="lang-content en">Showing <strong id="resultsCountEn">0</strong> products</span>
                </div>
                <button class="clear-filters" id="clearFilters">
                    <i class="fas fa-times"></i>
                    <span class="lang-content ar active">مسح الفلاتر</span>
                    <span class="lang-content en">Clear Filters</span>
                </button>
            </div>
            
            <!-- Products Grid -->
            <div class="products-grid" id="productsGrid">
                <!-- سيتم تعبئته بالجافاسكريبت -->
            </div>
            
            <!-- Empty State -->
            <div class="empty-state" id="emptyState" style="display: none;">
                <i class="fas fa-search"></i>
                <h3 class="lang-content ar active">لا توجد منتجات مطابقة</h3>
                <h3 class="lang-content en">No matching products found</h3>
                <p class="lang-content ar active">لم نتمكن من العثور على منتجات تطابق معايير البحث الخاصة بك. حاول تغيير الفلاتر أو مصطلحات البحث.</p>
                <p class="lang-content en">We couldn't find any products matching your search criteria. Try changing filters or search terms.</p>
                <button class="action-btn view" id="resetSearch" style="max-width: 200px; margin: 0 auto;">
                    <i class="fas fa-redo"></i>
                    <span class="lang-content ar active">إعادة تعيين البحث</span>
                    <span class="lang-content en">Reset Search</span>
                </button>
            </div>
        </div>
    </main>
    
    <!-- Product Modal -->
    <div class="product-modal" id="productModal">
        <div class="product-modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalProductTitle">اسم المنتج</h3>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="product-detail-grid">
                    <div class="product-gallery">
                        <div class="main-image">
                            <img id="modalMainImage" src="" alt="Product Image">
                        </div>
                        <div class="thumbnail-grid" id="modalThumbnails">
                            <!-- سيتم تعبئته بالجافاسكريبت -->
                        </div>
                    </div>
                    
                    <div class="product-detail-content">
                        <div class="product-category" id="modalCategory">
                            <i class="fas fa-tag"></i>
                            <span id="modalCategoryText">فئة المنتج</span>
                        </div>
                        
                        <h2 class="product-title" id="modalDetailTitle">اسم المنتج الكامل</h2>
                        
                        <p class="product-description" id="modalDescription">وصف المنتج...</p>
                        
                        <div class="product-detail-specs">
                            <h3>
                                <span class="lang-content ar active">المواصفات الفنية</span>
                                <span class="lang-content en">Technical Specifications</span>
                            </h3>
                            <div class="specs-grid" id="modalSpecs">
                                <!-- سيتم تعبئته بالجافاسكريبت -->
                            </div>
                        </div>
                        
                        <div class="product-features">
                            <h3>
                                <span class="lang-content ar active">المميزات الرئيسية</span>
                                <span class="lang-content en">Key Features</span>
                            </h3>
                            <ul class="features-list" id="modalFeatures">
                                <!-- سيتم تعبئته بالجافاسكريبت -->
                            </ul>
                        </div>
                        
                        <div class="modal-actions">
                            <button class="action-btn whatsapp" id="whatsappBtn">
                                <i class="fab fa-whatsapp"></i>
                                <span class="lang-content ar active">استفسار عبر واتساب</span>
                                <span class="lang-content en">Inquire via WhatsApp</span>
                            </button>
                            <button class="action-btn view" id="requestQuoteBtn">
                                <i class="fas fa-file-invoice-dollar"></i>
                                <span class="lang-content ar active">طلب عرض سعر</span>
                                <span class="lang-content en">Request Quote</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Back to Top -->
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-chevron-up"></i>
    </div>

    <script>
        // قاعدة بيانات المنتجات
        const productsDatabase = [
            {
                id: 1,
                name: {
                    ar: "مسمار فخذي F1 - Austofix",
                    en: "F1 Femoral Nail - Austofix"
                },
                description: {
                    ar: "مسمار فخذي متطور لعلاج كسور الورك وجزء الفخذ الأوسط. مصمم لتقليل وقت العملية ودعم الإجراءات الآمنة.",
                    en: "Advanced femoral nail for treatment of hip and midshaft femoral fractures. Designed to reduce operative time and support safe procedures."
                },
                category: "orthopedic",
                brand: "Austofix",
                type: "implant",
                code: "F1-NAIL",
                country: "Australia",
                material: "Titanium Alloy",
                size: "Various",
                sterilization: "Sterile",
                images: [
                    "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1551601651-2a8555f1a136?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=600&h=400&fit=crop"
                ],
                features: {
                    ar: [
                        "تصميم يعتمد على 25 سنة من الخبرة السريرية",
                        "يقلل وقت العملية الجراحية",
                        "دعم للإجراءات الآمنة والفعالة",
                        "نتائج محسنة للمريض",
                        "الخيار المفضل لكسور الورك والفخذ"
                    ],
                    en: [
                        "Design based on 25 years of clinical history",
                        "Reduces operative time",
                        "Supports safe and efficient procedures",
                        "Improved patient outcomes",
                        "Preferred option for hip & femoral fractures"
                    ]
                },
                specs: {
                    "المادة": "سبيكة تيتانيوم",
                    "الحجم": "متعدد الأحجام",
                    "التعقيم": "معقم",
                    "المنشأ": "أستراليا",
                    "الكود": "F1-NAIL"
                }
            },
            {
                id: 2,
                name: {
                    ar: "مسمار عظم العضد CHN - Austofix",
                    en: "CHN Humeral Nail - Austofix"
                },
                description: {
                    ar: "مسمار عظم العضد المجوف، مثبت سريرياً مع قوة وصلابة فائقة. أول من قدم مسامير مقفلة بزاوية مائلة.",
                    en: "Cannulated humeral nail, clinically proven with superior strength & rigidity. First to introduce obliquely angled locked screws."
                },
                category: "orthopedic",
                brand: "Austofix",
                type: "implant",
                code: "CHN-NAIL",
                country: "Australia",
                material: "Stainless Steel",
                size: "8mm-12mm",
                sterilization: "Sterile",
                images: [
                    "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1551601651-2a8555f1a136?w=600&h=400&fit=crop"
                ],
                features: {
                    ar: [
                        "مثبت سريرياً",
                        "قوة وصلابة فائقة",
                        "ميزة منع ارتداد مسامير رأس العضد",
                        "تصميم مجوف",
                        "مناسب للكسور المعقدة"
                    ],
                    en: [
                        "Clinically proven",
                        "Superior strength & rigidity",
                        "Humeral head screw anti-backout feature",
                        "Cannulated design",
                        "Suitable for complex fractures"
                    ]
                },
                specs: {
                    "المادة": "فولاذ مقاوم للصدأ",
                    "الأقطار": "8مم - 12مم",
                    "التعقيم": "معقم",
                    "المنشأ": "أستراليا",
                    "الكود": "CHN-NAIL"
                }
            },
            {
                id: 3,
                name: {
                    ar: "منظار مفصل - Arthroscope",
                    en: "Arthroscope"
                },
                description: {
                    ar: "منظار مفصل بتصميم بصري جديد، مجال رؤية واسع، دقة عالية، مع عدسة ياقوت مقاومة للضباب.",
                    en: "Arthroscope with new optical design, wide field of view, high resolution, sapphire lens anti-fog."
                },
                category: "surgical",
                brand: "NIMO",
                type: "instrument",
                code: "ARTHRO-2.7",
                country: "Turkey",
                material: "Stainless Steel",
                size: "2.7mm, 3mm, 4mm",
                sterilization: "Multiple Methods",
                images: [
                    "https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=600&h=400&fit=crop"
                ],
                features: {
                    ar: [
                        "تصميم بصري جديد",
                        "مجال رؤية واسع وعمق ميدان كبير",
                        "عدسة ياقوت مقاومة للضباب",
                        "تصميم إغلاق فريد - أكثر متانة",
                        "يدعم التعقيم المتعدد"
                    ],
                    en: [
                        "New generation optical design",
                        "Large depth of field, wide field of view",
                        "Sapphire lens, anti-fog interference",
                        "Unique sealing design - more durable",
                        "Supports multiple sterilization methods"
                    ]
                },
                specs: {
                    "القطر": "2.7مم, 3مم, 4مم",
                    "زاوية الرؤية": "0°, 30°, 70°",
                    "طول العمل": "175مم",
                    "التعقيم": "متعدد الطرق",
                    "المنشأ": "تركيا"
                }
            },
            {
                id: 4,
                name: {
                    ar: "لوح نصف قطر VRP 2.0+ - Austofix",
                    en: "VRP 2.0+ Radius Plate - Austofix"
                },
                description: {
                    ar: "لوح نصف قطر قطبي للعلاج الشامل لكسور الرسغ. يجمع تقنية المسامير القفلية مع تصميم تشريحي.",
                    en: "Polar radius plate for universal treatment of wrist fractures. Combines locking screw technology with anatomical design."
                },
                category: "orthopedic",
                brand: "Austofix",
                type: "implant",
                code: "VRP-2.0",
                country: "Australia",
                material: "Titanium",
                size: "Various",
                sterilization: "Sterile",
                images: [
                    "https://images.unsplash.com/photo-1551601651-2a8555f1a136?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=600&h=400&fit=crop"
                ],
                features: {
                    ar: [
                        "علاج شامل لكسور الرسغ",
                        "تقنية المسامير القفلية",
                        "تصميم تشريحي",
                        "تثبيت زاوي مستقر",
                        "يناسب معظم كسور نصف القطر البعيد"
                    ],
                    en: [
                        "Universal treatment for wrist fractures",
                        "Locking screw technology",
                        "Anatomically designed plate",
                        "Angle stable fixation",
                        "Fits most distal radius fractures"
                    ]
                },
                specs: {
                    "المادة": "تيتانيوم",
                    "النوع": "لوح قطب",
                    "التعقيم": "معقم",
                    "المنشأ": "أستراليا",
                    "الكود": "VRP-2.0"
                }
            },
            {
                id: 5,
                name: {
                    ar: "زيوت العناية بالبشرة OHO",
                    en: "OHO Skin Care Oils"
                },
                description: {
                    ar: "زيت زيتون بكر عضوي 100%، تركيبة بيولوجية معيارية من أنواع مختلفة من زيوت الزيتون لتعزيز خصائص كل منها.",
                    en: "100% organic extra virgin olive oil, standardized biological formulation of different olive oil varieties to enhance characteristics."
                },
                category: "cosmetic",
                brand: "OHO",
                type: "care",
                code: "OHO-OIL",
                country: "Spain",
                material: "Organic Olive Oil",
                size: "Various",
                sterilization: "Not Applicable",
                images: [
                    "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1551601651-2a8555f1a136?w=600&h=400&fit=crop"
                ],
                features: {
                    ar: [
                        "100% عضوي بكر ممتاز",
                        "خالي من المبيدات",
                        "عصر بارد ميكانيكي فقط",
                        "غني بالأحماض الدهنية (>96%)",
                        "فيتامينات ومضادات أكسدة"
                    ],
                    en: [
                        "100% organic extra virgin",
                        "Pesticide-free",
                        "Cold extracted only by mechanical procedures",
                        "Rich in fatty acids (>96%)",
                        "Vitamins and antioxidants"
                    ]
                },
                specs: {
                    "المكونات": "زيت زيتون عضوي 100%",
                    "الحجم": "متوفر بأحجام مختلفة",
                    "الاستخدام": "العناية بالبشرة",
                    "المنشأ": "إسبانيا",
                    "الكود": "OHO-OIL"
                }
            },
            {
                id: 6,
                name: {
                    ar: "كريم ترميمي 20+10 - OHO",
                    en: "Repairing Cream 20+10 - OHO"
                },
                description: {
                    ar: "كريم جسم بعملية ترطيب مزدوجة وإصلاح بالزيت للبشرة الجافة، الجافة جداً، المتقشرة أو المتشققة.",
                    en: "Body cream with dual moisturizing and oleo-repairing action for dry, very dry, scaly or flaky skin."
                },
                category: "cosmetic",
                brand: "OHO",
                type: "cream",
                code: "REPAIR-20+10",
                country: "Spain",
                material: "Olive Oil + Urea",
                size: "100ml",
                sterilization: "Not Applicable",
                images: [
                    "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1551601651-2a8555f1a136?w=600&h=400&fit=crop"
                ],
                features: {
                    ar: [
                        "20% زيت زيتون OHO",
                        "10% يوريا للترطيب",
                        "مع الجليسرين",
                        "يوفر مرونة ونعومة",
                        "امتصاص عالي - لا يترك بقايا دهنية"
                    ],
                    en: [
                        "20% OHO Olive Oil",
                        "10% urea moisturizes",
                        "With glycerine",
                        "Provides elasticity and softness",
                        "High absorption - no greasy residue"
                    ]
                },
                specs: {
                    "المكونات": "20% زيت زيتون، 10% يوريا، جليسرين",
                    "الحجم": "100 مل",
                    "الاستخدام": "البشرة الجافة والمتقشرة",
                    "المنشأ": "إسبانيا",
                    "الكود": "REPAIR-20+10"
                }
            },
            {
                id: 7,
                name: {
                    ar: "دعامة ركبة مرنة - Conwe",
                    en: "Elastic Knee Brace - Conwe"
                },
                description: {
                    ar: "دعامة ركبة مرنة بمفصلات، متوفرة بمقاسات مختلفة، لدعم وتثبيت مفصل الركبة.",
                    en: "Elastic hinged knee brace, available in various sizes, for support and stabilization of knee joint."
                },
                category: "orthopedic",
                brand: "Conwe",
                type: "brace",
                code: "KNEE-BRACE",
                country: "International",
                material: "Elastic + Plastic",
                size: "S/M/L/XL",
                sterilization: "Reusable",
                images: [
                    "https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=600&h=400&fit=crop"
                ],
                features: {
                    ar: [
                        "مفصلات مرنة",
                        "متوفر بمقاسات متعددة",
                        "دعم وتثبيت الركبة",
                        "قابل لإعادة الاستخدام",
                        "مريح وسهل الارتداء"
                    ],
                    en: [
                        "Elastic hinges",
                        "Available in multiple sizes",
                        "Knee support and stabilization",
                        "Reusable",
                        "Comfortable and easy to wear"
                    ]
                },
                specs: {
                    "المادة": "مرن + بلاستيك",
                    "المقاسات": "صغير/متوسط/كبير/كبير جداً",
                    "الاستخدام": "دعم الركبة",
                    "النوع": "قابل لإعادة الاستخدام",
                    "الكود": "KNEE-BRACE"
                }
            },
            {
                id: 8,
                name: {
                    ar: "منتجات العناية بالبشرة D.C.Tuna",
                    en: "D.C.Tuna Skin Care Products"
                },
                description: {
                    ar: "سلسلة كاملة من منتجات العناية بالبشرة بمكونات طبيعية لجميع أنواع البشرة.",
                    en: "Complete line of skin care products with natural ingredients for all skin types."
                },
                category: "cosmetic",
                brand: "D.C.Tuna",
                type: "care",
                code: "DCTUNA-SKIN",
                country: "International",
                material: "Natural Ingredients",
                size: "Various",
                sterilization: "Not Applicable",
                images: [
                    "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1551601651-2a8555f1a136?w=600&h=400&fit=crop"
                ],
                features: {
                    ar: [
                        "مكونات طبيعية",
                        "مناسب لجميع أنواع البشرة",
                        "حلول شاملة للعناية",
                        "تركيبات متطورة",
                        "نتائج فعالة"
                    ],
                    en: [
                        "Natural ingredients",
                        "Suitable for all skin types",
                        "Comprehensive care solutions",
                        "Advanced formulations",
                        "Effective results"
                    ]
                },
                specs: {
                    "المكونات": "طبيعية",
                    "النطاق": "منتجات متعددة",
                    "الاستخدام": "العناية بالبشرة",
                    "النوع": "مستحضرات تجميل",
                    "الكود": "DCTUNA-SKIN"
                }
            },
            {
                id: 9,
                name: {
                    ar: "مسامير مجوفة - Austofix",
                    en: "Cannulated Screws - Austofix"
                },
                description: {
                    ar: "مسامير مجوفة عالية الجودة مصممة لتثبيت أنماط الكسور المختلفة في العظام الصغيرة.",
                    en: "High quality cannulated screws designed for fixation of various fracture patterns in small bones."
                },
                category: "orthopedic",
                brand: "Austofix",
                type: "implant",
                code: "CAN-SCREWS",
                country: "Australia",
                material: "Titanium",
                size: "Various",
                sterilization: "Sterile",
                images: [
                    "https://images.unsplash.com/photo-1551601651-2a8555f1a136?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=600&h=400&fit=crop"
                ],
                features: {
                    ar: [
                        "دقة جراحية وكفاءة",
                        "أجهزة وأدوات عالية الجودة",
                        "تثبيت لأنماط كسور متعددة",
                        "مناسب للكسور داخل وخارج المفصل",
                        "حل تثبيت شامل"
                    ],
                    en: [
                        "Surgical accuracy and efficiency",
                        "High quality devices and instruments",
                        "Fixation of many fracture patterns",
                        "Suitable for intra and extra articular fractures",
                        "Comprehensive fixation solution"
                    ]
                },
                specs: {
                    "المادة": "تيتانيوم",
                    "النوع": "مسامير مجوفة",
                    "التعقيم": "معقم",
                    "المنشأ": "أستراليا",
                    "الكود": "CAN-SCREWS"
                }
            },
            {
                id: 10,
                name: {
                    ar: "ماسك الشعر بالكيراتين - Farmasi",
                    en: "Keratin Hair Mask - Farmasi"
                },
                description: {
                    ar: "ماسك شعر مدعم بالكيراتين والبيوتين للشعر الجاف والمتضرر، لترطيبه وإعطائه لمعاناً وجمالاً.",
                    en: "Hair mask enriched with keratin and biotin for dry and damaged hair, to moisturize and give shine and beauty."
                },
                category: "cosmetic",
                brand: "Farmasi",
                type: "hair",
                code: "KERATIN-MASK",
                country: "International",
                material: "Keratin + Biotin",
                size: "Various",
                sterilization: "Not Applicable",
                images: [
                    "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1551601651-2a8555f1a136?w=600&h=400&fit=crop"
                ],
                features: {
                    ar: [
                        "مدعم بالكيراتين والبيوتين",
                        "للشعر الجاف والمتضرر",
                        "يرطب ويعطي لمعاناً",
                        "يحسن مظهر الشعر",
                        "تركيبة فعالة"
                    ],
                    en: [
                        "Enriched with keratin and biotin",
                        "For dry and damaged hair",
                        "Moisturizes and gives shine",
                        "Improves hair appearance",
                        "Effective formula"
                    ]
                },
                specs: {
                    "المكونات": "كيراتين + بيوتين",
                    "الاستخدام": "الشعر الجاف والمتضرر",
                    "النوع": "ماسك شعر",
                    "الماركة": "Farmasi",
                    "الكود": "KERATIN-MASK"
                }
            }
        ];

        // بيانات الفئات
        const categories = [
            { id: "all", name: { ar: "جميع المنتجات", en: "All Products" }, icon: "fas fa-boxes", count: 10 },
            { id: "orthopedic", name: { ar: "جراحة العظام", en: "Orthopedic" }, icon: "fas fa-bone", count: 5 },
            { id: "surgical", name: { ar: "الأدوات الجراحية", en: "Surgical" }, icon: "fas fa-syringe", count: 1 },
            { id: "cosmetic", name: { ar: "العناية والتجميل", en: "Cosmetic" }, icon: "fas fa-spa", count: 4 }
        ];

        // بيانات العلامات التجارية
        const brands = ["Austofix", "NIMO", "OHO", "Conwe", "D.C.Tuna", "Farmasi", "Ortho-Trauma"];

        // بيانات الأنواع
        const types = [
            { id: "all", name: { ar: "الجميع", en: "All" } },
            { id: "implant", name: { ar: "مواد قابلة للزرع", en: "Implants" } },
            { id: "instrument", name: { ar: "أدوات جراحية", en: "Surgical Instruments" } },
            { id: "brace", name: { ar: "دعامات وأجهزة", en: "Braces & Devices" } },
            { id: "care", name: { ar: "العناية", en: "Care Products" } },
            { id: "cream", name: { ar: "كريمات", en: "Creams" } },
            { id: "hair", name: { ar: "العناية بالشعر", en: "Hair Care" } }
        ];

        // متغيرات التصفية
        let activeCategory = "all";
        let activeBrand = "all";
        let activeType = "all";
        let searchQuery = "";
        let filteredProducts = [...productsDatabase];

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            setupLanguageToggle();
            renderCategories();
            renderBrandFilters();
            renderTypeFilters();
            renderProducts();
            setupEventListeners();
            setupBackToTop();
            
            // تحديث عدد النتائج
            updateResultsCounter();
        });

        // تبديل اللغة
        function setupLanguageToggle() {
            const langButtons = document.querySelectorAll('.lang-btn');
            const arContents = document.querySelectorAll('.lang-content.ar');
            const enContents = document.querySelectorAll('.lang-content.en');
            
            langButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    
                    langButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    if (lang === 'ar') {
                        arContents.forEach(content => content.classList.add('active'));
                        enContents.forEach(content => content.classList.remove('active'));
                        document.body.setAttribute('dir', 'rtl');
                        document.body.classList.remove('dir-ltr');
                    } else {
                        arContents.forEach(content => content.classList.remove('active'));
                        enContents.forEach(content => content.classList.add('active'));
                        document.body.setAttribute('dir', 'ltr');
                        document.body.classList.add('dir-ltr');
                    }
                    
                    // إعادة عرض كل شيء باللغة الجديدة
                    renderCategories();
                    renderBrandFilters();
                    renderTypeFilters();
                    renderProducts();
                    updateResultsCounter();
                });
            });
        }

        // عرض الفئات
        function renderCategories() {
            const categoriesGrid = document.getElementById('categoriesGrid');
            const currentLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
            
            categoriesGrid.innerHTML = '';
            
            categories.forEach(category => {
                const categoryCard = document.createElement('div');
                categoryCard.className = `category-card ${category.id === activeCategory ? 'active' : ''}`;
                categoryCard.setAttribute('data-category', category.id);
                
                categoryCard.innerHTML = `
                    <div class="category-icon">
                        <i class="${category.icon}"></i>
                    </div>
                    <div class="category-name">${category.name[currentLang]}</div>
                    <div class="category-count">${category.count}</div>
                `;
                
                categoriesGrid.appendChild(categoryCard);
            });
            
            // إضافة event listeners
            document.querySelectorAll('.category-card').forEach(card => {
                card.addEventListener('click', function() {
                    activeCategory = this.getAttribute('data-category');
                    filterProducts();
                    updateActiveCategory();
                });
            });
        }

        // تحديث الفئة النشطة
        function updateActiveCategory() {
            document.querySelectorAll('.category-card').forEach(card => {
                if (card.getAttribute('data-category') === activeCategory) {
                    card.classList.add('active');
                } else {
                    card.classList.remove('active');
                }
            });
        }

        // عرض فلاتر العلامات التجارية
        function renderBrandFilters() {
            const brandFilter = document.getElementById('brandFilter');
            const currentLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
            
            brandFilter.innerHTML = '';
            
            // زر "الكل"
            const allBtn = document.createElement('button');
            allBtn.className = `filter-btn ${activeBrand === 'all' ? 'active' : ''}`;
            allBtn.setAttribute('data-brand', 'all');
            allBtn.textContent = currentLang === 'ar' ? 'الكل' : 'All';
            brandFilter.appendChild(allBtn);
            
            // أزرار العلامات التجارية
            brands.forEach(brand => {
                const brandBtn = document.createElement('button');
                brandBtn.className = `filter-btn ${activeBrand === brand ? 'active' : ''}`;
                brandBtn.setAttribute('data-brand', brand);
                brandBtn.textContent = brand;
                brandFilter.appendChild(brandBtn);
            });
        }

        // عرض فلاتر الأنواع
        function renderTypeFilters() {
            const typeFilter = document.getElementById('typeFilter');
            const currentLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
            
            typeFilter.innerHTML = '';
            
            types.forEach(type => {
                const typeBtn = document.createElement('button');
                typeBtn.className = `filter-btn ${activeType === type.id ? 'active' : ''}`;
                typeBtn.setAttribute('data-type', type.id);
                typeBtn.textContent = type.name[currentLang];
                typeFilter.appendChild(typeBtn);
            });
        }

        // تصفية المنتجات
        function filterProducts() {
            const currentLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
            
            filteredProducts = productsDatabase.filter(product => {
                // تصفية الفئة
                if (activeCategory !== 'all' && product.category !== activeCategory) {
                    return false;
                }
                
                // تصفية العلامة التجارية
                if (activeBrand !== 'all' && product.brand !== activeBrand) {
                    return false;
                }
                
                // تصفية النوع
                if (activeType !== 'all' && product.type !== activeType) {
                    return false;
                }
                
                // تصفية البحث
                if (searchQuery) {
                    const query = searchQuery.toLowerCase();
                    const nameMatch = product.name[currentLang].toLowerCase().includes(query);
                    const descMatch = product.description[currentLang].toLowerCase().includes(query);
                    const codeMatch = product.code.toLowerCase().includes(query);
                    const brandMatch = product.brand.toLowerCase().includes(query);
                    
                    if (!(nameMatch || descMatch || codeMatch || brandMatch)) {
                        return false;
                    }
                }
                
                return true;
            });
            
            renderProducts();
            updateResultsCounter();
        }

        // عرض المنتجات
        function renderProducts() {
            const productsGrid = document.getElementById('productsGrid');
            const emptyState = document.getElementById('emptyState');
            const currentLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
            
            productsGrid.innerHTML = '';
            
            if (filteredProducts.length === 0) {
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            
            filteredProducts.forEach((product, index) => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card fade-in';
                productCard.style.animationDelay = `${index * 0.1}s`;
                
                productCard.innerHTML = `
                    ${product.sterilization === 'Sterile' ? '<div class="product-badge">معقم</div>' : ''}
                    <div class="product-image-container">
                        <img src="${product.images[0]}" alt="${product.name[currentLang]}" class="product-image">
                    </div>
                    <div class="product-content">
                        <div class="product-category">
                            <i class="fas fa-tag"></i>
                            ${product.brand}
                        </div>
                        <h3 class="product-title">${product.name[currentLang]}</h3>
                        <p class="product-description">${product.description[currentLang]}</p>
                        
                        <div class="product-specs">
                            <div class="spec-item">
                                <span class="spec-label">الكود:</span>
                                <span class="spec-value">${product.code}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">النوع:</span>
                                <span class="spec-value">${product.type}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">المنشأ:</span>
                                <span class="spec-value">${product.country}</span>
                            </div>
                        </div>
                        
                        <div class="product-actions">
                            <button class="action-btn view" data-id="${product.id}">
                                <i class="fas fa-eye"></i>
                                ${currentLang === 'ar' ? 'عرض التفاصيل' : 'View Details'}
                            </button>
                            <button class="action-btn whatsapp" data-whatsapp="${product.id}">
                                <i class="fab fa-whatsapp"></i>
                                ${currentLang === 'ar' ? 'استفسار' : 'Inquire'}
                            </button>
                        </div>
                    </div>
                `;
                
                productsGrid.appendChild(productCard);
            });
            
            // إضافة event listeners لأزرار المنتجات
            document.querySelectorAll('.action-btn.view').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    openProductModal(productId);
                });
            });
            
            document.querySelectorAll('.action-btn.whatsapp').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-whatsapp'));
                    openWhatsApp(productId);
                });
            });
        }

        // تحديث عداد النتائج
        function updateResultsCounter() {
            const resultsCount = document.getElementById('resultsCount');
            const resultsCountEn = document.getElementById('resultsCountEn');
            const currentLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
            
            resultsCount.textContent = filteredProducts.length;
            resultsCountEn.textContent = filteredProducts.length;
            
            // تحديث عدد المنتجات في كل فئة
            categories.forEach(category => {
                if (category.id === 'all') {
                    category.count = productsDatabase.length;
                } else {
                    category.count = productsDatabase.filter(p => p.category === category.id).length;
                }
            });
            
            renderCategories();
        }

        // إعداد event listeners
        function setupEventListeners() {
            // فلاتر العلامات التجارية
            document.getElementById('brandFilter').addEventListener('click', function(e) {
                if (e.target.classList.contains('filter-btn')) {
                    activeBrand = e.target.getAttribute('data-brand');
                    filterProducts();
                    
                    // تحديث النشط
                    document.querySelectorAll('#brandFilter .filter-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    e.target.classList.add('active');
                }
            });
            
            // فلاتر الأنواع
            document.getElementById('typeFilter').addEventListener('click', function(e) {
                if (e.target.classList.contains('filter-btn')) {
                    activeType = e.target.getAttribute('data-type');
                    filterProducts();
                    
                    // تحديث النشط
                    document.querySelectorAll('#typeFilter .filter-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    e.target.classList.add('active');
                }
            });
            
            // بحث
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.getElementById('searchBtn');
            
            searchBtn.addEventListener('click', performSearch);
            searchInput.addEventListener('keyup', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });
            
            // مسح الفلاتر
            document.getElementById('clearFilters').addEventListener('click', function() {
                activeCategory = 'all';
                activeBrand = 'all';
                activeType = 'all';
                searchQuery = '';
                searchInput.value = '';
                
                filterProducts();
                updateActiveCategory();
                
                // إعادة تعيين أزرار الفلاتر
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    if (btn.getAttribute('data-brand') === 'all' || btn.getAttribute('data-type') === 'all') {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
            });
            
            // إعادة تعيين البحث
            document.getElementById('resetSearch').addEventListener('click', function() {
                document.getElementById('clearFilters').click();
            });
            
            // إغلاق المودال
            document.getElementById('modalClose').addEventListener('click', closeProductModal);
            
            // واتساب في المودال
            document.getElementById('whatsappBtn').addEventListener('click', function() {
                const productId = parseInt(this.getAttribute('data-product-id'));
                openWhatsApp(productId);
            });
            
            // طلب عرض سعر
            document.getElementById('requestQuoteBtn').addEventListener('click', function() {
                const productId = parseInt(this.getAttribute('data-product-id'));
                requestQuote(productId);
            });
            
            // إغلاق بالنقر خارج المودال
            window.addEventListener('click', function(e) {
                const modal = document.getElementById('productModal');
                if (e.target === modal) {
                    closeProductModal();
                }
            });
            
            // إغلاق بالضغط على ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeProductModal();
                }
            });
        }

        // تنفيذ البحث
        function performSearch() {
            searchQuery = document.getElementById('searchInput').value.trim();
            filterProducts();
        }

        // فتح مودال المنتج
        function openProductModal(productId) {
            const product = productsDatabase.find(p => p.id === productId);
            if (!product) return;
            
            const currentLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
            const modal = document.getElementById('productModal');
            
            // تعبئة البيانات
            document.getElementById('modalProductTitle').textContent = product.name[currentLang];
            document.getElementById('modalDetailTitle').textContent = product.name[currentLang];
            document.getElementById('modalCategoryText').textContent = product.brand;
            document.getElementById('modalDescription').textContent = product.description[currentLang];
            
            // الصور
            const mainImage = document.getElementById('modalMainImage');
            mainImage.src = product.images[0];
            mainImage.alt = product.name[currentLang];
            
            // التصغيرات
            const thumbnailsGrid = document.getElementById('modalThumbnails');
            thumbnailsGrid.innerHTML = '';
            
            product.images.forEach((image, index) => {
                const thumbnail = document.createElement('div');
                thumbnail.className = `thumbnail ${index === 0 ? 'active' : ''}`;
                thumbnail.innerHTML = `<img src="${image}" alt="Thumbnail ${index + 1}">`;
                
                thumbnail.addEventListener('click', function() {
                    mainImage.src = image;
                    document.querySelectorAll('.thumbnail').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
                
                thumbnailsGrid.appendChild(thumbnail);
            });
            
            // المواصفات
            const specsGrid = document.getElementById('modalSpecs');
            specsGrid.innerHTML = '';
            
            for (const [key, value] of Object.entries(product.specs)) {
                const specItem = document.createElement('div');
                specItem.className = 'spec-item-detail';
                specItem.innerHTML = `<strong>${key}</strong> <span>${value}</span>`;
                specsGrid.appendChild(specItem);
            }
            
            // المميزات
            const featuresList = document.getElementById('modalFeatures');
            featuresList.innerHTML = '';
            
            product.features[currentLang].forEach(feature => {
                const li = document.createElement('li');
                li.textContent = feature;
                featuresList.appendChild(li);
            });
            
            // تخزين معرف المنتج في الأزرار
            document.getElementById('whatsappBtn').setAttribute('data-product-id', productId);
            document.getElementById('requestQuoteBtn').setAttribute('data-product-id', productId);
            
            // عرض المودال
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // إغلاق مودال المنتج
        function closeProductModal() {
            const modal = document.getElementById('productModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // فتح واتساب
        function openWhatsApp(productId) {
            const product = productsDatabase.find(p => p.id === productId);
            if (!product) return;
            
            const currentLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
            const message = currentLang === 'ar' 
                ? `مرحباً، أنا مهتم بالمنتج: ${product.name[currentLang]} (كود: ${product.code}). أود الحصول على مزيد من المعلومات والسعر.`
                : `Hello, I'm interested in: ${product.name[currentLang]} (Code: ${product.code}). I'd like to get more information and pricing.`;
            
            const phone = "962790408227"; // رقم واتساب الشركة
            const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
            
            window.open(url, '_blank');
        }

        // طلب عرض سعر
        function requestQuote(productId) {
            const product = productsDatabase.find(p => p.id === productId);
            if (!product) return;
            
            const currentLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
            const subject = currentLang === 'ar' 
                ? `طلب عرض سعر للمنتج: ${product.name[currentLang]}`
                : `Quote Request for: ${product.name[currentLang]}`;
            
            const body = currentLang === 'ar' 
                ? `السلام عليكم،

أود طلب عرض سعر للمنتج التالي:
- اسم المنتج: ${product.name[currentLang]}
- الكود: ${product.code}
- الماركة: ${product.brand}

الرجاء إرسال السعر والكميات المتاحة وشروط التسليم.

مع الشكر،` 
                : `Dear Sir/Madam,

I would like to request a quote for the following product:
- Product Name: ${product.name[currentLang]}
- Code: ${product.code}
- Brand: ${product.brand}

Please send price, available quantities, and delivery terms.

Thank you,`;
            
            const email = "Medical.Binary@yahoo.com";
            const url = `mailto:${email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            
            window.location.href = url;
        }

        // Back to Top
        function setupBackToTop() {
            const backToTop = document.getElementById('backToTop');
            
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    backToTop.classList.add('show');
                } else {
                    backToTop.classList.remove('show');
                }
            });
            
            backToTop.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }
    </script>
</body>
</html>
